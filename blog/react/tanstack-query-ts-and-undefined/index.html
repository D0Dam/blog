<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">tanstack query + tsì—ì„œ undefined ë§¤ê°œë³€ìˆ˜ ì—„ê²©í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° | d0dam&#x27;s-log</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined"><meta data-rh="true" property="og:locale" content="ko"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="tanstack query + tsì—ì„œ undefined ë§¤ê°œë³€ìˆ˜ ì—„ê²©í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° | d0dam&#x27;s-log"><meta data-rh="true" name="description" content="tanstack queryì™€ typescriptë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì¢…ì¢… undefined ì¼ ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë„˜ê¸°ê¸°ë„ í•©ë‹ˆë‹¤. ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ undefinedë¥¼ ì²˜ë¦¬í•´ ì¤„ ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ë³´ì•˜ìŠµë‹ˆë‹¤."><meta data-rh="true" property="og:description" content="tanstack queryì™€ typescriptë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì¢…ì¢… undefined ì¼ ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë„˜ê¸°ê¸°ë„ í•©ë‹ˆë‹¤. ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ undefinedë¥¼ ì²˜ë¦¬í•´ ì¤„ ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ë³´ì•˜ìŠµë‹ˆë‹¤."><meta data-rh="true" name="keywords" content="react,tanstack query,typescript"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-04-08T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/d0dam"><meta data-rh="true" property="article:tag" content="react,tanstack query,typescript"><link data-rh="true" rel="icon" href="/img/logos/favicon.ico"><link data-rh="true" rel="canonical" href="https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined"><link data-rh="true" rel="alternate" href="https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined" hreflang="ko"><link data-rh="true" rel="alternate" href="https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined","mainEntityOfPage":"https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined","url":"https://d0dam.xyz/blog/react/tanstack-query-ts-and-undefined","headline":"tanstack query + tsì—ì„œ undefined ë§¤ê°œë³€ìˆ˜ ì—„ê²©í•˜ê²Œ ì²˜ë¦¬í•˜ê¸°","name":"tanstack query + tsì—ì„œ undefined ë§¤ê°œë³€ìˆ˜ ì—„ê²©í•˜ê²Œ ì²˜ë¦¬í•˜ê¸°","description":"tanstack queryì™€ typescriptë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì¢…ì¢… undefined ì¼ ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë„˜ê¸°ê¸°ë„ í•©ë‹ˆë‹¤. ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ undefinedë¥¼ ì²˜ë¦¬í•´ ì¤„ ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ë³´ì•˜ìŠµë‹ˆë‹¤.","datePublished":"2024-04-08T00:00:00.000Z","author":{"@type":"Person","name":"minjae Kim","url":"https://github.com/d0dam","email":"smallkdb@gmail.com","image":"https://avatars.githubusercontent.com/u/51052049?v=4"},"keywords":["react","tanstack query","typescript"],"isPartOf":{"@type":"Blog","@id":"https://d0dam.xyz/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="d0dam&#39;s-log RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="d0dam&#39;s-log Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-DBVZBC9QT5","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DBVZBC9QT5"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DBVZBC9QT5",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.c41d10ff.css">
<script src="/assets/js/runtime~main.bd78b476.js" defer="defer"></script>
<script src="/assets/js/main.1d2c63fc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">ë³¸ë¬¸ìœ¼ë¡œ ê±´ë„ˆë›°ê¸°</a></div><nav aria-label="ë©”ì¸" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="ì‚¬ì´ë“œë°” í¼ì¹˜ê±°ë‚˜ ì ‘ê¸°" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logos/main.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logos/darkModeMain.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/overview">Documents</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/d0dam" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="ì–´ë‘ìš´ ëª¨ë“œì™€ ë°ì€ ëª¨ë“œ ì „í™˜í•˜ê¸° (í˜„ì¬ ë°ì€ ëª¨ë“œ)" aria-label="ì–´ë‘ìš´ ëª¨ë“œì™€ ë°ì€ ëª¨ë“œ ì „í™˜í•˜ê¸° (í˜„ì¬ ë°ì€ ëª¨ë“œ)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="ìµœê·¼ ë¸”ë¡œê·¸ ë¬¸ì„œ ë‘˜ëŸ¬ë³´ê¸°"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react/make-select">Select ì»´í¬ë„ŒíŠ¸ css ì»¤ìŠ¤í…€ì„ ìœ„í•œ ì—¬ì •</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/react/tanstack-query-ts-and-undefined">tanstack query + tsì—ì„œ undefined ë§¤ê°œë³€ìˆ˜ ì—„ê²©í•˜ê²Œ ì²˜ë¦¬í•˜ê¸°</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react/tanstack-query-options">tanstack queryë¥¼ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react/config-stylelint">styled-components stylelintì ìš©ê³¼ ìë™ìˆ˜ì •(feat. yarn berryì—ì„œ pnpmìœ¼ë¡œ)</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/react/implement-drag-scroll">ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ ìŠ¤í¬ë¡¤ êµ¬í˜„í•˜ê¸°</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">tanstack query + tsì—ì„œ undefined ë§¤ê°œë³€ìˆ˜ ì—„ê²©í•˜ê²Œ ì²˜ë¦¬í•˜ê¸°</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-04-08T00:00:00.000Z">2024ë…„ 4ì›” 8ì¼</time> Â· <!-- -->ì•½ 7ë¶„</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/d0dam" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/51052049?v=4" alt="minjae Kim"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/d0dam" target="_blank" rel="noopener noreferrer"><span>minjae Kim</span></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>tanstack queryì™€ typeScriptë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì¢…ì¢… undefined ì¼ ìˆ˜ ìˆëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ ë„˜ê¸°ê¸°ë„ í•©ë‹ˆë‹¤. ì–´ë–¤ ë°©ë²•ìœ¼ë¡œ undefinedë¥¼ ì²˜ë¦¬í•´ ì¤„ ìˆ˜ ìˆì„ì§€ ê³ ë¯¼í•´ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<h2 id="ë“¤ì–´ê°€ê¸°-ì•ì„œ">ë“¤ì–´ê°€ê¸° ì•ì„œ</h2>
<p>ì´ ê¸€ì€ tanstack query v5ì™€ typescript v5, react v18 ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
<h2 id="ìƒê°í•˜ê²Œ-ëœ-ê³„ê¸°">ìƒê°í•˜ê²Œ ëœ ê³„ê¸°</h2>
<p>urlì˜ pathì— ê³ ìœ í•œ idë¥¼ í¬í•¨ì‹œí‚¤ëŠ”, ìƒê°ë³´ë‹¤ í”í•œ ê²½ìš°ì˜€ìŠµë‹ˆë‹¤.</p>
<p>ì˜ˆë¥¼ ë“¤ì–´, ì—¬ëŸ¬ courseì— ê°ê° ê³ ìœ ì˜ idê°€ ìˆë‹¤ê³  í•˜ë©´ <code>https://example.com/course/${id}</code> ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ urlì„ ë‚˜ëˆ„ì–´ ì¤„ ìˆ˜ ìˆì£ .
ì´ ë•Œ useParamsë¥¼ ì‚¬ìš©í•´ idê°’ì„ urlì—ì„œ ê°€ì ¸ì™€ apië¥¼ ìš”ì²­í•˜ëŠ” ìƒí™©ì´ì—ˆìŠµë‹ˆë‹¤.</p>
<pre><code class="language-tsx" metastring="title=&quot;CourseDetailPage.tsx&quot;">const getCourseDetail = async (id: number) =&gt; {
  const res = await apiClient.get&lt;CourseDetailResponse&gt;(`/course/${id}`);

  return res.data;
};

function CourseDetailPage() {
  const { id } = useParams();
  const courseId = Number(id);
  const { data } = useSuspenseQuery({
    queryKey: [&#x27;course&#x27;, courseId],
    queryFn: () =&gt; getCourseDetail(courseId, params),
  });

  return &lt;div&gt;{data.content}&lt;/div&gt;;
}
</code></pre>
<p>ì´ ê²½ìš° ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ì€ ë°”ë¡œ id ê°’ì˜ type ì…ë‹ˆë‹¤.</p>
<pre><code>const { id } = useParams(); // const id: string | undefined
</code></pre>
<p>idê°€ ì—†ëŠ” ê²½ìš°ë„ ì¡´ì¬í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ì£ .
í•˜ì§€ë§Œ api ë¡œì§ ìì²´ë¡œëŠ” idê°€ í•„ìˆ˜ê°’ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ idê°€ undefinedì¸ ê²½ìš°ë¥¼ ë°°ì œì‹œí‚¤ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ë¬¸ë“, ì „ì—ëŠ” ì´ëŸ° ìƒí™©ì´ ë°œìƒí•  ë•Œ ë§ˆë‹¤ ì†ì´ ê°€ëŠ”ëŒ€ë¡œ ì½”ë“œë¥¼ ì§¯ë˜ ê¸°ì–µì´ ë– ì˜¬ëìŠµë‹ˆë‹¤.
ê·¸ ì½”ë“œë¥¼ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‚¬ìš©í•˜ë ¤ê³ í•  ë•Œ êµ‰ì¥íˆ ë¶ˆí¸í•˜ë”êµ°ìš”.
ê·¸ë˜ì„œ ì´ë²ˆ ê¸°íšŒì— ì´ ìƒí™©ì„ ê¹”ë”í•˜ê²Œ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ê³ ë¯¼í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<h2 id="ë°©ë²•-ì°¾ê¸°">ë°©ë²• ì°¾ê¸°</h2>
<p>ìš°ì„  idê°€ undefinedì¸ ê²½ìš° api í•¨ìˆ˜ í˜¸ì¶œì„ ë§‰ì•„ì•¼í•©ë‹ˆë‹¤.</p>
<p>ì´ ë•Œ ê°€ì¥ í”í•˜ê²Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ tanstack queryì˜ <a href="https://tanstack.com/query/v5/docs/framework/react/guides/disabling-queries#lazy-queries"><code>enabled</code></a> ì˜µì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
ì´ê±¸ í™œìš©í•´ ë°ì´í„°ë¥¼ lazyí•˜ê²Œ ë°›ì„ ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆì£ .</p>
<pre><code class="language-tsx" metastring="title=&quot;enabled ì‚¬ìš© ì˜ˆì‹œ&quot;">function CourseDetailPage() {
  const { id } = useParams();
  const courseId = Number(id);
  const { data } = useSuspenseQuery({
    queryKey: [&#x27;course&#x27;, courseId],
    queryFn: () =&gt; getCourseDetail(courseId),
    //highlight-next-line
    enabled: !!courseId,
  });

  return &lt;div&gt;{data.content}&lt;/div&gt;;
}
</code></pre>
<p>ì´ì œ idê°€ falsyí•œ ê°’ì„ ê°€ì§€ê²Œ ëœ ë™ì•ˆì—ëŠ” <code>useSuspenseQuery</code>ê°€ ë™ì‘í•˜ì§€ ì•Šì„ ê²ƒì…ë‹ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ì´ ê²½ìš° idì˜ íƒ€ì… ìì²´ëŠ” ë³€í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì—¬ê¸°ì„œ undefined íƒ€ì…ì„ ì–´ë–»ê²Œ ê±¸ëŸ¬ì¤„ì§€ ê³ ë¯¼í•´ë³´ì•„ì•¼ í•©ë‹ˆë‹¤.</p>
<h3 id="api-í•¨ìˆ˜ì—-idì˜-íƒ€ì…ì„-undefinedë„-ë°›ëŠ”ë‹¤">api í•¨ìˆ˜ì— idì˜ íƒ€ì…ì„ undefinedë„ ë°›ëŠ”ë‹¤.</h3>
<p>ê·¸ë ‡ë‹¤ë©´ api í•¨ ìˆ˜ì— undefined ì²˜ë¦¬ ë¡œì§ì´ ë“¤ì–´ê°€ì•¼í•˜ê² ë„¤ìš”.</p>
<pre><code class="language-ts" metastring="title=&quot;getCourseDetail.ts&quot;">const getCourseDetail = async (id: number | undefined) =&gt; {
  if (typeof id === &#x27;undefined&#x27;) {
    return Promise.reject(new Error(&#x27;idê°€ undefinedì…ë‹ˆë‹¤.&#x27;));
  }

  const res = await apiClient.get&lt;CourseDetailResponse&gt;(`/course/${id}`);

  return res.data;
};
</code></pre>
<p>ì´ ê²½ìš°ë„ ê´œì°®ë‹¤ê³  ìƒê°í•˜ì§€ë§Œ ì´ í•¨ìˆ˜ì˜ ë³¸ë˜ ëª©ì ì„ ìƒê°í–ˆì„ë•ŒëŠ” <code>ì™„ì „ ì¢‹ë‹¤!</code> ë¼ê³  ë§í•˜ê¸° í˜ë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
<p>ì œ ìƒê°ì„ ì ì–´ë³´ìë©´...</p>
<ul>
<li><code>getCourseDetail</code>ì´ idê°€ undefinedì¸ ì¸ìë¥¼ ë°›ì§€ë§Œ, ì´ ê²½ìš° ì—ëŸ¬ê°€ ë‚œë‹¤ëŠ” ì ì´ ë¬˜ì—°í•©ë‹ˆë‹¤.<!-- -->
<ul>
<li><code>getCourseDetail</code>ì˜ idê°€ undefinedë¥¼ ë°›ê² ë‹¤ê³  ì •ì˜í•œ í•¨ìˆ˜ë¼ë©´, idê°€ undefinedì¸ ê²½ìš°ì—ë„ apií˜¸ì¶œì´ ê°€ì•¼ ì§ê´€ì ìœ¼ë¡œ ì§œì—¬ì§„ í•¨ìˆ˜ë¼ê³  ìƒê°ì´ ë“­ë‹ˆë‹¤.</li>
</ul>
</li>
</ul>
<p><code>getCourseDetail</code> í•¨ìˆ˜ ìì²´ì— ì§‘ì¤‘í•´ë´…ì‹œë‹¤.</p>
<p><code>getCourseDetail</code> í•¨ìˆ˜ê°€ ê°€ì§€ëŠ” api urlì€ idê°€ undefinedì¸ ê²½ìš°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.(<code>/course</code>ì¸ ê²½ìš°ê°€ ì—†ê±°ë‚˜ CourseDetailResponseê°€ ì•„ë‹Œ ë‹¤ë¥¸ ì‘ë‹µì´ ì˜µë‹ˆë‹¤.)</p>
<p>ê·¸ë˜ì„œ <code>getCourseDetail</code> í•¨ìˆ˜ì˜ ì¸ìì¸ idëŠ” ë¬´ì¡°ê±´ ì¡´ì¬í•´ì•¼í•˜ë¯€ë¡œ undefinedë¥¼ ë°›ì„ ìˆ˜ ì—†ê²Œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ë§ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.
ì‹¤ì œë¡œ enabled ì˜µì…˜ì„ í†µí•´ idê°€ ì¡´ì¬í• ë•Œë§Œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¤ê³  ì‹¶ì–´í–ˆë‹¤ëŠ” ê²ƒì€ ì• ì´ˆì— api í•¨ìˆ˜ì˜ id ì¸ìë¡œ undefinedê°€ ì˜¤ëŠ”ê²ƒì„ í”¼í•˜ê³  ì‹¶ì—ˆë‹¤ëŠ” ì´ì•¼ê¸°ê°€ ì•„ë‹ê¹Œ í•©ë‹ˆë‹¤.</p>
<h3 id="api-í•¨ìˆ˜-ì™¸ë¶€ì—ì„œ-id-íƒ€ì…-ì¢íˆê¸°">api í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ id íƒ€ì… ì¢íˆê¸°</h3>
<p>ê·¸ëŸ¼ ì´ì œ ì™¸ë¶€ì—ì„œ id íƒ€ì…ì„ numberë¡œ ë„˜ê²¨ì£¼ê¸° ìœ„í•œ ì²˜ë¦¬ë¥¼ í•´ë´…ì‹œë‹¤.</p>
<pre><code class="language-tsx" metastring="title=&quot;CourseDetailPage.tsx&quot;">function CourseDetailPage() {
  const { id } = useParams();
  const courseId = Number(id);
  const { data } = useSuspenseQuery({
    queryKey: [&#x27;course&#x27;, courseId],
    //highlight-next-line
    queryFn: courseId ? () =&gt; getCourseDetail(courseId) : undefined,
    enabled: !!courseId,
  });

  return &lt;div&gt;{data.content}&lt;/div&gt;;
}
</code></pre>
<p>ì´ë ‡ê²Œ í•˜ë©´ idê°€ ì¡´ì¬í•  ë•Œë§Œ queryFnì„ í™œì„±í™” ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì´ ê³¼ì •ì€ type levelì—ì„œ ë™ì‘í•˜ê²Œ ë  ê²ƒì´ê³ , queryFnì€ ì˜µì…”ë„í•˜ë¯€ë¡œ undefinedê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ê·¸ë§Œí¼ queryFn í•¨ìˆ˜ê°€ ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ ë™ì‘í•˜ì§€ ì•Šë„ë¡ í™•ì‹¤í•˜ê²Œ í•  í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<h2 id="skiptoken">skipToken</h2>
<p>ì¢€ ë” type safe í•˜ê²Œ í•˜ê¸°ìœ„í•œ <a href="https://tanstack.com/query/v5/docs/framework/react/guides/disabling-queries#typesafe-disabling-of-queries-using-skiptoken"><code>skipToken</code></a>ì´ë¼ëŠ” ê²ƒì´ ì¡´ì¬í•©ë‹ˆë‹¤.
tanstack query v5ë¶€í„° ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
ì¿¼ë¦¬ë¥¼ lazyí•˜ê²Œ ë‚´ë ¤ì£¼ê¸° ìœ„í•œ <code>enabled: false</code>ì˜ ë™ì‘ì—ë„ íƒ€ì…ì´ ë”°ë¼ê°ˆ ìˆ˜ ìˆê²Œ í•  ìˆ˜ ìˆì£ .
ê·¸ë˜ì„œ <code>enabled</code> ì˜µì…˜ ì—†ì´ë„ ì›í•˜ëŠ” ë™ì‘ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>íƒ€ì…ì€ unique symbolë¡œ ë˜ì–´ìˆìŠµë‹ˆë‹¤.</p>
<pre><code class="language-ts" metastring="title=&quot;skipToken type&quot;">declare const skipToken: unique symbol;
</code></pre>
<p>ì´ì œ ì‚¬ìš©í•´ë³¼ê¹Œìš”?</p>
<pre><code class="language-tsx" metastring="title=&quot;CourseDetailPage.tsx&quot;">import { useSuspenseQuery, skipToken } from &#x27;@tanstack/react-query&#x27;;

function CourseDetailPage() {
  const { id } = useParams();
  const courseId = id ? Number(id) : undefined;
  const { data } = useSuspenseQuery({
    queryKey: [&#x27;course&#x27;, courseId],
    //highlight-next-line
    queryFn: courseId ? () =&gt; getCourseDetail(courseId) : skipToken,
  });

  return &lt;div&gt;{data.content}&lt;/div&gt;;
}
</code></pre>
<h2 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</h2>
<p>skipTokenì„ í†µí•´ <code>unique symbol</code>ì„ ì‚¬ìš©í•œ ì˜ˆì‹œë„ ì´ë ‡ê²Œ í™•ì¸í•´ë³´ë‹ˆ ê°íšŒê°€ ìƒˆë¡­ë„¤ìš”!
ì›í•˜ëŠ”ëŒ€ë¡œ api í•¨ìˆ˜ë¥¼ ë³´ì „í•˜ê³  type safeí•˜ê²Œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆê²Œ ë˜ì–´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤.ğŸ˜Š</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>íƒœê·¸:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/react">react</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/tanstack-query">tanstack query</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/typescript">typescript</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="ë¸”ë¡œê·¸ ê²Œì‹œë¬¼ íƒìƒ‰"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/react/make-select"><div class="pagination-nav__sublabel">ì´ì „ ê²Œì‹œë¬¼</div><div class="pagination-nav__label">Select ì»´í¬ë„ŒíŠ¸ css ì»¤ìŠ¤í…€ì„ ìœ„í•œ ì—¬ì •</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/react/tanstack-query-options"><div class="pagination-nav__sublabel">ë‹¤ìŒ ê²Œì‹œë¬¼</div><div class="pagination-nav__label">tanstack queryë¥¼ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ë©´ ì¢‹ì„ê¹Œ?</div></a></nav><div></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#ë“¤ì–´ê°€ê¸°-ì•ì„œ">ë“¤ì–´ê°€ê¸° ì•ì„œ</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#ìƒê°í•˜ê²Œ-ëœ-ê³„ê¸°">ìƒê°í•˜ê²Œ ëœ ê³„ê¸°</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#ë°©ë²•-ì°¾ê¸°">ë°©ë²• ì°¾ê¸°</a><ul><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#api-í•¨ìˆ˜ì—-idì˜-íƒ€ì…ì„-undefinedë„-ë°›ëŠ”ë‹¤">api í•¨ìˆ˜ì— idì˜ íƒ€ì…ì„ undefinedë„ ë°›ëŠ”ë‹¤.</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#api-í•¨ìˆ˜-ì™¸ë¶€ì—ì„œ-id-íƒ€ì…-ì¢íˆê¸°">api í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ id íƒ€ì… ì¢íˆê¸°</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#skiptoken">skipToken</a></li><li><a class="table-of-contents__link toc-highlight" href="/blog/react/tanstack-query-ts-and-undefined#ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><span class="footer__link-item">
        Powered by <a href="https://docusaurus.io/" target="_blank" rel="noreferrer noopener">Docusaurus 2</a>, Hosted by <a href="https://github.com/" target="_blank" rel="noreferrer noopener">github pages</a>
        <br>
        Copyright Â© 2022 <a href="https://github.com/d0dam" target="_blank" rel="noreferrer noopener">minjaeKim</a>. All rights reserved.
        </span></div></div></div></footer></div>
</body>
</html>